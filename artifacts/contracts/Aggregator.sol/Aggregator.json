{
  "_format": "hh-sol-artifact-1",
  "contractName": "Aggregator",
  "sourceName": "contracts/Aggregator.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_commissionRate",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "capacity",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "SoC",
          "type": "uint256"
        }
      ],
      "name": "BatteryRegistered",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "batteries",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "capacity",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "SoC",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isRegistered",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "commissionRate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_batteryOwner",
          "type": "address"
        }
      ],
      "name": "getBatteryCapacity",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_batteryOwner",
          "type": "address"
        }
      ],
      "name": "getBatterySoC",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_capacity",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_SoC",
          "type": "uint256"
        }
      ],
      "name": "registerBattery",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amountSold",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "_isPositiveReserve",
          "type": "bool"
        }
      ],
      "name": "updateBatterySoCAfterSale",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610e75380380610e75833981810160405281019061003291906100bb565b33600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600281905550506100e8565b600080fd5b6000819050919050565b61009881610085565b81146100a357600080fd5b50565b6000815190506100b58161008f565b92915050565b6000602082840312156100d1576100d0610080565b5b60006100df848285016100a6565b91505092915050565b610d7e806100f76000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c80636ca1da3e1161005b5780636ca1da3e146101025780637edaff941461011e5780638da5cb5b1461014e5780639e9b522c1461016c5761007d565b80631bb31c30146100825780633e395962146100b45780635ea1d6f8146100e4575b600080fd5b61009c6004803603810190610097919061085d565b610188565b6040516100ab939291906108be565b60405180910390f35b6100ce60048036038101906100c9919061085d565b6101bf565b6040516100db91906108f5565b60405180910390f35b6100ec61020a565b6040516100f991906108f5565b60405180910390f35b61011c6004803603810190610117919061093c565b610210565b005b6101386004803603810190610133919061085d565b610450565b60405161014591906108f5565b60405180910390f35b61015661049b565b604051610163919061098b565b60405180910390f35b610186600480360381019061018191906109d2565b6104c1565b005b60006020528060005260406000206000915090508060000154908060010154908060020160009054906101000a900460ff16905083565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001549050919050565b60025481565b600015156000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff161515146102a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161029c90610a82565b60405180910390fd5b6040518060600160405280838152602001828152602001600115158152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548160ff0219169083151502179055509050506103fc6040518060400160405280600e81526020017f42617474657279206f776e65723a000000000000000000000000000000000000815250336040518060400160405280600a81526020017f72656769737465726564000000000000000000000000000000000000000000008152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff16610708565b3373ffffffffffffffffffffffffffffffffffffffff167fd08b57c1fcc963554aa986f624bdb40345753a76d6e83acb1b6dbd764e56c4628383604051610444929190610aa2565b60405180910390a25050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b80156105bc5760008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001546064846105189190610afa565b6105229190610b83565b6000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001015461056e9190610bb4565b9050806000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018190555050610703565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015460648461060d9190610afa565b6106179190610b83565b6000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101546106639190610be8565b905060648111156106ba5760646000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010181905550610701565b806000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101819055505b505b505050565b6107a4848484846040516024016107229493929190610cc6565b6040516020818303038152906040527f5f15d28c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506107aa565b50505050565b6107c1816107b96107c46107e5565b63ffffffff16565b50565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b6107f0819050919050565b6107f8610d19565b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061082a826107ff565b9050919050565b61083a8161081f565b811461084557600080fd5b50565b60008135905061085781610831565b92915050565b600060208284031215610873576108726107fa565b5b600061088184828501610848565b91505092915050565b6000819050919050565b61089d8161088a565b82525050565b60008115159050919050565b6108b8816108a3565b82525050565b60006060820190506108d36000830186610894565b6108e06020830185610894565b6108ed60408301846108af565b949350505050565b600060208201905061090a6000830184610894565b92915050565b6109198161088a565b811461092457600080fd5b50565b60008135905061093681610910565b92915050565b60008060408385031215610953576109526107fa565b5b600061096185828601610927565b925050602061097285828601610927565b9150509250929050565b6109858161081f565b82525050565b60006020820190506109a0600083018461097c565b92915050565b6109af816108a3565b81146109ba57600080fd5b50565b6000813590506109cc816109a6565b92915050565b6000806000606084860312156109eb576109ea6107fa565b5b60006109f986828701610848565b9350506020610a0a86828701610927565b9250506040610a1b868287016109bd565b9150509250925092565b600082825260208201905092915050565b7f4261747465727920616c72656164792072656769737465726564000000000000600082015250565b6000610a6c601a83610a25565b9150610a7782610a36565b602082019050919050565b60006020820190508181036000830152610a9b81610a5f565b9050919050565b6000604082019050610ab76000830185610894565b610ac46020830184610894565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610b058261088a565b9150610b108361088a565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615610b4957610b48610acb565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000610b8e8261088a565b9150610b998361088a565b925082610ba957610ba8610b54565b5b828204905092915050565b6000610bbf8261088a565b9150610bca8361088a565b925082821015610bdd57610bdc610acb565b5b828203905092915050565b6000610bf38261088a565b9150610bfe8361088a565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610c3357610c32610acb565b5b828201905092915050565b600081519050919050565b60005b83811015610c67578082015181840152602081019050610c4c565b83811115610c76576000848401525b50505050565b6000601f19601f8301169050919050565b6000610c9882610c3e565b610ca28185610a25565b9350610cb2818560208601610c49565b610cbb81610c7c565b840191505092915050565b60006080820190508181036000830152610ce08187610c8d565b9050610cef602083018661097c565b8181036040830152610d018185610c8d565b9050610d1060608301846108af565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052605160045260246000fdfea2646970667358221220144ef2461d67457c9a45d09e96e1cd2e7c6d071b0050e1bc1d8b5f4aaec5f33764736f6c63430008090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c80636ca1da3e1161005b5780636ca1da3e146101025780637edaff941461011e5780638da5cb5b1461014e5780639e9b522c1461016c5761007d565b80631bb31c30146100825780633e395962146100b45780635ea1d6f8146100e4575b600080fd5b61009c6004803603810190610097919061085d565b610188565b6040516100ab939291906108be565b60405180910390f35b6100ce60048036038101906100c9919061085d565b6101bf565b6040516100db91906108f5565b60405180910390f35b6100ec61020a565b6040516100f991906108f5565b60405180910390f35b61011c6004803603810190610117919061093c565b610210565b005b6101386004803603810190610133919061085d565b610450565b60405161014591906108f5565b60405180910390f35b61015661049b565b604051610163919061098b565b60405180910390f35b610186600480360381019061018191906109d2565b6104c1565b005b60006020528060005260406000206000915090508060000154908060010154908060020160009054906101000a900460ff16905083565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001549050919050565b60025481565b600015156000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff161515146102a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161029c90610a82565b60405180910390fd5b6040518060600160405280838152602001828152602001600115158152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548160ff0219169083151502179055509050506103fc6040518060400160405280600e81526020017f42617474657279206f776e65723a000000000000000000000000000000000000815250336040518060400160405280600a81526020017f72656769737465726564000000000000000000000000000000000000000000008152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff16610708565b3373ffffffffffffffffffffffffffffffffffffffff167fd08b57c1fcc963554aa986f624bdb40345753a76d6e83acb1b6dbd764e56c4628383604051610444929190610aa2565b60405180910390a25050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b80156105bc5760008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001546064846105189190610afa565b6105229190610b83565b6000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001015461056e9190610bb4565b9050806000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018190555050610703565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015460648461060d9190610afa565b6106179190610b83565b6000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101546106639190610be8565b905060648111156106ba5760646000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010181905550610701565b806000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101819055505b505b505050565b6107a4848484846040516024016107229493929190610cc6565b6040516020818303038152906040527f5f15d28c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506107aa565b50505050565b6107c1816107b96107c46107e5565b63ffffffff16565b50565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b6107f0819050919050565b6107f8610d19565b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061082a826107ff565b9050919050565b61083a8161081f565b811461084557600080fd5b50565b60008135905061085781610831565b92915050565b600060208284031215610873576108726107fa565b5b600061088184828501610848565b91505092915050565b6000819050919050565b61089d8161088a565b82525050565b60008115159050919050565b6108b8816108a3565b82525050565b60006060820190506108d36000830186610894565b6108e06020830185610894565b6108ed60408301846108af565b949350505050565b600060208201905061090a6000830184610894565b92915050565b6109198161088a565b811461092457600080fd5b50565b60008135905061093681610910565b92915050565b60008060408385031215610953576109526107fa565b5b600061096185828601610927565b925050602061097285828601610927565b9150509250929050565b6109858161081f565b82525050565b60006020820190506109a0600083018461097c565b92915050565b6109af816108a3565b81146109ba57600080fd5b50565b6000813590506109cc816109a6565b92915050565b6000806000606084860312156109eb576109ea6107fa565b5b60006109f986828701610848565b9350506020610a0a86828701610927565b9250506040610a1b868287016109bd565b9150509250925092565b600082825260208201905092915050565b7f4261747465727920616c72656164792072656769737465726564000000000000600082015250565b6000610a6c601a83610a25565b9150610a7782610a36565b602082019050919050565b60006020820190508181036000830152610a9b81610a5f565b9050919050565b6000604082019050610ab76000830185610894565b610ac46020830184610894565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610b058261088a565b9150610b108361088a565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615610b4957610b48610acb565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000610b8e8261088a565b9150610b998361088a565b925082610ba957610ba8610b54565b5b828204905092915050565b6000610bbf8261088a565b9150610bca8361088a565b925082821015610bdd57610bdc610acb565b5b828203905092915050565b6000610bf38261088a565b9150610bfe8361088a565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610c3357610c32610acb565b5b828201905092915050565b600081519050919050565b60005b83811015610c67578082015181840152602081019050610c4c565b83811115610c76576000848401525b50505050565b6000601f19601f8301169050919050565b6000610c9882610c3e565b610ca28185610a25565b9350610cb2818560208601610c49565b610cbb81610c7c565b840191505092915050565b60006080820190508181036000830152610ce08187610c8d565b9050610cef602083018661097c565b8181036040830152610d018185610c8d565b9050610d1060608301846108af565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052605160045260246000fdfea2646970667358221220144ef2461d67457c9a45d09e96e1cd2e7c6d071b0050e1bc1d8b5f4aaec5f33764736f6c63430008090033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
