{
  "_format": "hh-sol-artifact-1",
  "contractName": "Aggregator",
  "sourceName": "contracts/Aggregator.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_commissionRate",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "capacity",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "SoC",
          "type": "uint256"
        }
      ],
      "name": "BatteryRegistered",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "batteries",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "capacity",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "SoC",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isRegistered",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "commissionRate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_batteryOwner",
          "type": "address"
        }
      ],
      "name": "getBatteryCapacity",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_batteryOwner",
          "type": "address"
        }
      ],
      "name": "getBatterySoC",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_capacity",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_SoC",
          "type": "uint256"
        }
      ],
      "name": "registerBattery",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amountSold",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "_isPositiveReserve",
          "type": "bool"
        }
      ],
      "name": "updateBatterySoCAfterSale",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610d0d380380610d0d833981810160405281019061003291906100bb565b33600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600281905550506100e8565b600080fd5b6000819050919050565b61009881610085565b81146100a357600080fd5b50565b6000815190506100b58161008f565b92915050565b6000602082840312156100d1576100d0610080565b5b60006100df848285016100a6565b91505092915050565b610c16806100f76000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c80636ca1da3e1161005b5780636ca1da3e146101025780637edaff941461011e5780638da5cb5b1461014e5780639e9b522c1461016c5761007d565b80631bb31c30146100825780633e395962146100b45780635ea1d6f8146100e4575b600080fd5b61009c600480360381019061009791906106f5565b610188565b6040516100ab93929190610756565b60405180910390f35b6100ce60048036038101906100c991906106f5565b6101bf565b6040516100db919061078d565b60405180910390f35b6100ec61020a565b6040516100f9919061078d565b60405180910390f35b61011c600480360381019061011791906107d4565b610210565b005b610138600480360381019061013391906106f5565b610450565b604051610145919061078d565b60405180910390f35b61015661049b565b6040516101639190610823565b60405180910390f35b6101866004803603810190610181919061086a565b6104c1565b005b60006020528060005260406000206000915090508060000154908060010154908060020160009054906101000a900460ff16905083565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001549050919050565b60025481565b600015156000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff161515146102a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161029c9061091a565b60405180910390fd5b6040518060600160405280838152602001828152602001600115158152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548160ff0219169083151502179055509050506103fc6040518060400160405280600e81526020017f42617474657279206f776e65723a000000000000000000000000000000000000815250336040518060400160405280600a81526020017f72656769737465726564000000000000000000000000000000000000000000008152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff166105a0565b3373ffffffffffffffffffffffffffffffffffffffff167fd08b57c1fcc963554aa986f624bdb40345753a76d6e83acb1b6dbd764e56c462838360405161044492919061093a565b60405180910390a25050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508115610547576000816000015460648561051d9190610992565b6105279190610a1b565b82600101546105369190610a4c565b90508082600101819055505061059a565b6000816000015460648561055b9190610992565b6105659190610a1b565b82600101546105749190610a80565b9050606481111561058e5760648260010181905550610598565b8082600101819055505b505b50505050565b61063c848484846040516024016105ba9493929190610b5e565b6040516020818303038152906040527f5f15d28c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610642565b50505050565b6106598161065161065c61067d565b63ffffffff16565b50565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b610688819050919050565b610690610bb1565b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106c282610697565b9050919050565b6106d2816106b7565b81146106dd57600080fd5b50565b6000813590506106ef816106c9565b92915050565b60006020828403121561070b5761070a610692565b5b6000610719848285016106e0565b91505092915050565b6000819050919050565b61073581610722565b82525050565b60008115159050919050565b6107508161073b565b82525050565b600060608201905061076b600083018661072c565b610778602083018561072c565b6107856040830184610747565b949350505050565b60006020820190506107a2600083018461072c565b92915050565b6107b181610722565b81146107bc57600080fd5b50565b6000813590506107ce816107a8565b92915050565b600080604083850312156107eb576107ea610692565b5b60006107f9858286016107bf565b925050602061080a858286016107bf565b9150509250929050565b61081d816106b7565b82525050565b60006020820190506108386000830184610814565b92915050565b6108478161073b565b811461085257600080fd5b50565b6000813590506108648161083e565b92915050565b60008060006060848603121561088357610882610692565b5b6000610891868287016106e0565b93505060206108a2868287016107bf565b92505060406108b386828701610855565b9150509250925092565b600082825260208201905092915050565b7f4261747465727920616c72656164792072656769737465726564000000000000600082015250565b6000610904601a836108bd565b915061090f826108ce565b602082019050919050565b60006020820190508181036000830152610933816108f7565b9050919050565b600060408201905061094f600083018561072c565b61095c602083018461072c565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061099d82610722565b91506109a883610722565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156109e1576109e0610963565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000610a2682610722565b9150610a3183610722565b925082610a4157610a406109ec565b5b828204905092915050565b6000610a5782610722565b9150610a6283610722565b925082821015610a7557610a74610963565b5b828203905092915050565b6000610a8b82610722565b9150610a9683610722565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610acb57610aca610963565b5b828201905092915050565b600081519050919050565b60005b83811015610aff578082015181840152602081019050610ae4565b83811115610b0e576000848401525b50505050565b6000601f19601f8301169050919050565b6000610b3082610ad6565b610b3a81856108bd565b9350610b4a818560208601610ae1565b610b5381610b14565b840191505092915050565b60006080820190508181036000830152610b788187610b25565b9050610b876020830186610814565b8181036040830152610b998185610b25565b9050610ba86060830184610747565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052605160045260246000fdfea264697066735822122096a7a63988ff9d5dcbb1e780b5ea6d3ecb54614f44ea0aa5589c0fd5f1fc0d9864736f6c63430008090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c80636ca1da3e1161005b5780636ca1da3e146101025780637edaff941461011e5780638da5cb5b1461014e5780639e9b522c1461016c5761007d565b80631bb31c30146100825780633e395962146100b45780635ea1d6f8146100e4575b600080fd5b61009c600480360381019061009791906106f5565b610188565b6040516100ab93929190610756565b60405180910390f35b6100ce60048036038101906100c991906106f5565b6101bf565b6040516100db919061078d565b60405180910390f35b6100ec61020a565b6040516100f9919061078d565b60405180910390f35b61011c600480360381019061011791906107d4565b610210565b005b610138600480360381019061013391906106f5565b610450565b604051610145919061078d565b60405180910390f35b61015661049b565b6040516101639190610823565b60405180910390f35b6101866004803603810190610181919061086a565b6104c1565b005b60006020528060005260406000206000915090508060000154908060010154908060020160009054906101000a900460ff16905083565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001549050919050565b60025481565b600015156000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff161515146102a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161029c9061091a565b60405180910390fd5b6040518060600160405280838152602001828152602001600115158152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548160ff0219169083151502179055509050506103fc6040518060400160405280600e81526020017f42617474657279206f776e65723a000000000000000000000000000000000000815250336040518060400160405280600a81526020017f72656769737465726564000000000000000000000000000000000000000000008152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff166105a0565b3373ffffffffffffffffffffffffffffffffffffffff167fd08b57c1fcc963554aa986f624bdb40345753a76d6e83acb1b6dbd764e56c462838360405161044492919061093a565b60405180910390a25050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508115610547576000816000015460648561051d9190610992565b6105279190610a1b565b82600101546105369190610a4c565b90508082600101819055505061059a565b6000816000015460648561055b9190610992565b6105659190610a1b565b82600101546105749190610a80565b9050606481111561058e5760648260010181905550610598565b8082600101819055505b505b50505050565b61063c848484846040516024016105ba9493929190610b5e565b6040516020818303038152906040527f5f15d28c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610642565b50505050565b6106598161065161065c61067d565b63ffffffff16565b50565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b610688819050919050565b610690610bb1565b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106c282610697565b9050919050565b6106d2816106b7565b81146106dd57600080fd5b50565b6000813590506106ef816106c9565b92915050565b60006020828403121561070b5761070a610692565b5b6000610719848285016106e0565b91505092915050565b6000819050919050565b61073581610722565b82525050565b60008115159050919050565b6107508161073b565b82525050565b600060608201905061076b600083018661072c565b610778602083018561072c565b6107856040830184610747565b949350505050565b60006020820190506107a2600083018461072c565b92915050565b6107b181610722565b81146107bc57600080fd5b50565b6000813590506107ce816107a8565b92915050565b600080604083850312156107eb576107ea610692565b5b60006107f9858286016107bf565b925050602061080a858286016107bf565b9150509250929050565b61081d816106b7565b82525050565b60006020820190506108386000830184610814565b92915050565b6108478161073b565b811461085257600080fd5b50565b6000813590506108648161083e565b92915050565b60008060006060848603121561088357610882610692565b5b6000610891868287016106e0565b93505060206108a2868287016107bf565b92505060406108b386828701610855565b9150509250925092565b600082825260208201905092915050565b7f4261747465727920616c72656164792072656769737465726564000000000000600082015250565b6000610904601a836108bd565b915061090f826108ce565b602082019050919050565b60006020820190508181036000830152610933816108f7565b9050919050565b600060408201905061094f600083018561072c565b61095c602083018461072c565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061099d82610722565b91506109a883610722565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156109e1576109e0610963565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000610a2682610722565b9150610a3183610722565b925082610a4157610a406109ec565b5b828204905092915050565b6000610a5782610722565b9150610a6283610722565b925082821015610a7557610a74610963565b5b828203905092915050565b6000610a8b82610722565b9150610a9683610722565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610acb57610aca610963565b5b828201905092915050565b600081519050919050565b60005b83811015610aff578082015181840152602081019050610ae4565b83811115610b0e576000848401525b50505050565b6000601f19601f8301169050919050565b6000610b3082610ad6565b610b3a81856108bd565b9350610b4a818560208601610ae1565b610b5381610b14565b840191505092915050565b60006080820190508181036000830152610b788187610b25565b9050610b876020830186610814565b8181036040830152610b998185610b25565b9050610ba86060830184610747565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052605160045260246000fdfea264697066735822122096a7a63988ff9d5dcbb1e780b5ea6d3ecb54614f44ea0aa5589c0fd5f1fc0d9864736f6c63430008090033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
